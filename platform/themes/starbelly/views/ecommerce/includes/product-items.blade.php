@php
    $products->loadMissing(['defaultVariation', 'options', 'options.values']);
@endphp

<div class="loading loading-container">
    <div class="half-circle-spinner">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
    </div>
</div>

<input type="hidden" name="page" data-value="{{ $products->currentPage() }}">
<input type="hidden" name="q" value="{{ BaseHelper::stringify(request()->query('q')) }}">

<div class="row">
    @forelse($products as $product)
        <div class="col-lg-3 mb-5 mt-5">
            {!! Theme::partial('ecommerce.products.item', ['product' => $product, 'style' => 'static']) !!}
        </div>
    @empty
        <div class="text-center text-sb">
            <svg width="300" height="300" version="1.1" viewBox="0 0 700 300" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <path d="m497.76 372.13-3.3555-0.77734c-3-0.69531-6.0156 1.1914-6.707 4.207-0.69141 3.0117 1.1914 6.0195 4.207 6.707l3.293 0.76562c0.43359 0.10156 0.86328 0.14844 1.2852 0.14844 2.5391 0 4.8398-1.7383 5.4453-4.3203 0.71094-3.0078-1.1562-6.0234-4.168-6.7305z"/>
                <path d="m478.38 367.93-0.67188-0.13281c-3.0508-0.60547-5.9805 1.3789-6.5781 4.4062-0.59766 3.0352 1.3711 5.9805 4.4062 6.5781l0.64453 0.12891c0.37109 0.074219 0.74219 0.10938 1.1055 0.10938 2.6133 0 4.9531-1.8398 5.4844-4.5 0.60938-3.0312-1.3555-5.9805-4.3906-6.5898z"/>
                <path d="m568.08 364.7c-10.402-1.9688-21.195-3.6641-32.234-5.125 0.19922-3.1211-0.69922-6.1719-2.6641-8.8438l-76.344-103.59c-0.36328-0.98828-0.91406-1.918-1.8242-2.5898-0.054688-0.039063-0.10547-0.0625-0.16016-0.10156l-24.285-32.953c-7.3047-9.9102-20.191-15.828-34.469-15.832h-0.003906c-14.277 0-27.168 5.918-34.477 15.832l-102.6 139.23c-1.3789 1.8711-2.1992 3.9297-2.5312 6.0664-4.4375 0.30469-8.7305 0.625-12.902 0.95703v-39.27h24.348c12.035 0 21.824-9.7578 21.824-21.754l0.003906-43.961c0-8.6445-6.5508-15.91-14.969-16.551-4.7109-0.3125-9.2539 1.418-12.461 4.6953-3.0508 3.0391-4.7305 7.0664-4.7305 11.328v32.746h-14.012v-36.773c0-8.5391-3.3359-16.602-9.4375-22.742-6.1172-6.0273-14.199-9.3438-22.758-9.3438-17.754 0-32.195 14.395-32.195 32.086v15.586h-15.395v-39.422c0-5.0508-1.9648-9.7891-5.5352-13.348-3.2617-3.2422-7.5977-5.1914-12.262-5.4844-5.0195-0.26953-9.9258 1.5508-13.723 5.1445-3.9922 3.7734-6.2812 9.0781-6.2812 14.535v59.164c0 12.344 10.074 22.391 22.465 22.391h30.73l-0.003906 57.961c0 0.0625 0.035156 0.11328 0.035156 0.17578-11.188 1.6328-17.59 2.8047-17.707 2.8281-3.0391 0.5625-5.0508 3.4883-4.4883 6.5273 0.5 2.6953 2.8555 4.582 5.5 4.582 0.33984 0 0.67969-0.03125 1.0273-0.09375 0.21484-0.039063 21.824-4.0078 55.988-7.5625 3.0742-0.32031 5.3086-3.0742 4.9922-6.1484-0.32031-3.0781-3.0938-5.3164-6.1484-4.9922-10.613 1.1016-20.023 2.2461-28 3.3047v-62.184c0-3.0938-2.5078-5.6016-5.6016-5.6016h-36.328c-6.207 0.003907-11.262-5.0156-11.262-11.188v-59.164c0-2.3984 1.0156-4.7344 2.7812-6.4062 1.5391-1.457 3.4844-2.1719 5.3594-2.0938 1.9023 0.12109 3.6875 0.91797 5.0195 2.2461 1.4453 1.4375 2.2383 3.3594 2.2383 5.4102v45.023c0 3.0938 2.5078 5.6016 5.6016 5.6016h26.594c3.0938 0 5.6016-2.5078 5.6016-5.6016v-21.188c0-11.516 9.418-20.887 20.996-20.887 5.5977 0 10.891 2.1758 14.855 6.0781 3.9609 3.9883 6.1367 9.2461 6.1367 14.809v42.371c0 3.0938 2.5078 5.6016 5.6016 5.6016h25.215c3.0938 0 5.6016-2.5078 5.6016-5.6016v-38.348c0-1.2656 0.51172-2.4727 1.4844-3.4414 0.69141-0.71094 1.8828-1.543 3.7148-1.4062 2.5117 0.19141 4.5586 2.6016 4.5586 5.3789v43.965c0 5.8203-4.7656 10.555-10.625 10.555h-29.945c-3.0938 0-5.6016 2.5078-5.6016 5.6016v46.559c0 0.80859 0.18359 1.5625 0.49219 2.2578-0.33594 0.80859-0.55078 1.6719-0.46875 2.6016 0.26172 3.0781 2.9688 5.4102 6.0586 5.0977 11.559-0.99219 24.375-1.8828 38.074-2.5664-0.72656 0.11719-1.5039 0.23438-2.2188 0.35156-3.0547 0.49609-5.125 3.375-4.625 6.4258 0.44531 2.75 2.8203 4.6992 5.5195 4.6992 0.29688 0 0.60156-0.023438 0.90625-0.074219 26.754-4.3594 61.105-8.8594 99.637-11.422 27.594 1.4648 56.207 4.2969 84.68 9.1797 0.32031 0.054688 0.63672 0.078126 0.95312 0.078126 2.6758 0 5.043-1.9258 5.5156-4.6523 0.50391-2.9297-1.3984-5.6641-4.2539-6.3438 7.6133 0.22656 15.262 0.52344 22.973 0.97656 3.1016 0.21094 5.7383-2.1719 5.918-5.2578 0.18359-3.0898-2.1719-5.7383-5.2578-5.9219-38.645-2.2812-76.238-1.543-110.57 0.71875-38.738-2.0273-75.367-1.3516-106.67 0.41797l76.922-104.38c0.35938-0.10938 0.72656-0.14062 1.0703-0.32422 9.707-5.2305 13.262-1.9023 16.699 1.3164l0.58984 0.54688c0.78906 0.73047 1.2344 1.3398 1.625 1.8633 0.92578 1.2344 2.1992 2.9336 4.9609 4.2656 2.0664 0.99609 4.0625 1.3867 5.9727 1.3867 3.9219 0 7.4766-1.6445 10.531-3.0586 3.7031-1.7109 7.2109-3.3203 11.617-2.9883 2.7344 0.20703 3.8789 0.95312 5.6055 2.0781 2.2695 1.4805 5.4023 3.5195 10.871 3.125 6.5117-0.44141 10.559-3.75 13.812-6.4102 2.8633-2.3398 4.6172-3.6797 7.3906-4.0234 3.0781-0.375 6.5391 0.77344 10.297 3.2695l77.16 104.7c0.23828 0.32422 0.31641 0.56641 0.39453 0.80078-5.6094-0.64062-11.262-1.2266-16.98-1.7344-3.1133-0.24219-5.8008 2.0078-6.0742 5.082-0.27344 3.082 2.0039 5.8008 5.082 6.0742 20.656 1.8281 40.645 4.5547 59.41 8.1055 0.35156 0.066406 0.70312 0.097656 1.0469 0.097656 2.6367 0 4.9883-1.875 5.4961-4.5586 0.56641-3.0508-1.4297-5.9805-4.4688-6.5547zm-132.76-126.41c-6.1133 0.76172-9.9844 3.9258-13.094 6.4688-2.8984 2.3672-4.6758 3.7148-7.4883 3.9062-1.7461 0.09375-2.2812-0.21875-4-1.3359-2.2266-1.4492-5.2734-3.4336-10.863-3.8594-7.3125-0.56641-12.793 1.9609-17.172 3.9922-3.9141 1.8125-5.5273 2.4219-6.9375 1.75-0.30078-0.14844-0.30078-0.14844-0.86719-0.89844-0.63281-0.84375-1.5-2-2.9961-3.375l-0.52344-0.48828c-2.5234-2.3633-7.2812-6.7695-14.961-7.0156l14.219-19.293c5.2031-7.0586 14.719-11.277 25.457-11.277h0.003906c10.734 0 20.25 4.2148 25.453 11.277l14.844 20.141c-0.35938 0.023438-0.71875-0.035156-1.0742 0.007813z"/>
                <path d="m260.25 369.59-1.9883 0.35938c-3.043 0.55078-5.0625 3.4688-4.5078 6.5117 0.48828 2.7031 2.8477 4.5977 5.5039 4.5977 0.33203 0 0.66797-0.027344 1.0078-0.089844l1.9648-0.35156c3.043-0.54688 5.0703-3.4609 4.5234-6.5039-0.54688-3.0469-3.4727-5.0781-6.5039-4.5234z"/>
                <path d="m242.19 373.01c-6.6289 1.3398-10.223 2.168-10.223 2.168-3.0117 0.69531-4.8906 3.707-4.1953 6.7188 0.59766 2.5898 2.9023 4.3398 5.4492 4.3398 0.41797 0 0.84375-0.046875 1.2656-0.14062 0.042969-0.011719 3.5273-0.81641 9.9219-2.1094 3.0312-0.61328 4.9922-3.5664 4.3789-6.5977-0.61328-3.0312-3.5469-4.9922-6.5977-4.3789z"/>
                <path d="m247.25 209.81c4.9375-4.918 8.4375-4.918 13.375 0 1.0508 1.043 2.4688 1.6328 3.9492 1.6328 3.168 0 5.6641-1.5078 7.8711-2.8359 3.7461-2.2539 5.1367-3.0898 9.457 1.2031 1.0938 1.0898 2.5195 1.6328 3.9492 1.6328 1.4375 0 2.875-0.55078 3.9688-1.6484 2.1836-2.1914 2.1758-5.7383-0.015625-7.918-10.512-10.473-19.039-5.3281-23.141-2.8594-0.24219 0.14844-0.52344 0.31641-0.80469 0.48438-8.6055-6.7773-18.117-5.9883-26.508 2.375-2.1914 2.1836-2.1992 5.7266-0.015625 7.918 2.1797 2.1953 5.7266 2.1953 7.9141 0.015625z"/>
                <path d="m305.77 188.63c4.9297-4.918 8.4258-4.9219 13.375 0 1.0469 1.043 2.4688 1.6328 3.9492 1.6328 3.168 0 5.668-1.5078 7.8711-2.8359 3.7383-2.2539 5.1367-3.0938 9.457 1.2031 1.0938 1.0898 2.5195 1.6328 3.9492 1.6328 1.4375 0 2.875-0.55078 3.9688-1.6484 2.1836-2.1914 2.1758-5.7383-0.015626-7.918-10.512-10.465-19.039-5.3281-23.141-2.8594-0.24219 0.14844-0.52734 0.31641-0.80469 0.48437-8.6094-6.7773-18.125-5.9844-26.512 2.375-2.1914 2.1836-2.1992 5.7266-0.015625 7.918 2.1836 2.1914 5.7266 2.1992 7.918 0.015625z"/>
                <path d="m464.28 194.98c3.4922-3.4766 5.6211-3.4805 9.1211 0 1.0508 1.043 2.4688 1.6328 3.9492 1.6328 2.8477 0 5.082-1.3477 6.875-2.4297 2.9062-1.7578 3.3555-2.0273 6.1914 0.79688 2.1953 2.1836 5.7383 2.1758 7.918-0.015625 2.1836-2.1914 2.1758-5.7383-0.015625-7.918-9.0273-8.9961-16.629-4.4141-19.879-2.4531-7.1562-5.2109-15.195-4.3867-22.066 2.4531-2.1914 2.1836-2.1992 5.7266-0.015625 7.918 2.1875 2.1953 5.7305 2.2031 7.9219 0.015625z"/>
                <path d="m489.44 222.75c-5.9453-3.9766-12.562-3.1406-18.242 2.5117-2.1914 2.1836-2.1992 5.7266-0.015624 7.918 2.1836 2.1914 5.7266 2.2031 7.918 0.015624 2.2734-2.2656 3.1953-2.2656 5.4727 0 1.0469 1.043 2.4688 1.6328 3.9492 1.6328 2.5703 0 4.5625-1.2031 6.0195-2.082 0.51563-0.3125 1.3828-0.83594 1.6094-0.88281 0.003906 0.003907 0.60547 0.15234 1.793 1.332 2.1914 2.1836 5.7383 2.1758 7.918-0.015624 2.1836-2.1914 2.1758-5.7383-0.015625-7.918-7.1445-7.1211-13.461-4.2148-16.406-2.5117z"/>
                <path d="m525.66 214.63c1.4297 0 2.8555-0.54297 3.9492-1.6328 4.918-4.8906 8.5625-4.8828 13.469 0 1.0508 1.043 2.4688 1.6328 3.9492 1.6328 3.1758 0 5.6836-1.5117 7.8945-2.8438 3.7656-2.2734 5.1719-3.1211 9.5234 1.2109 2.1914 2.1836 5.7383 2.1758 7.918-0.015625 2.1836-2.1914 2.1758-5.7383-0.015625-7.918-10.555-10.508-19.105-5.3438-23.211-2.8672-0.24609 0.15234-0.53516 0.32422-0.82422 0.49609-8.625-6.8008-18.18-6.0156-26.605 2.375-2.1914 2.1836-2.1992 5.7266-0.015625 7.918 1.0977 1.0977 2.5312 1.6445 3.9688 1.6445z"/>
                <path d="m320.5 217.04c-6.2227-4.2539-13.156-3.4141-19.094 2.5-2.1914 2.1836-2.1992 5.7266-0.015625 7.918 2.1836 2.1914 5.7305 2.2031 7.918 0.015625 2.5586-2.5469 3.7305-2.5391 6.2812 0 1.0508 1.043 2.4688 1.6328 3.9492 1.6328 2.6289 0 4.6992-1.2461 6.2109-2.1562 0.5625-0.33984 1.6094-0.96875 1.9297-0.98047 0.003906 0 0.6875 0.10547 2.0938 1.5078 1.0938 1.0898 2.5195 1.6328 3.9492 1.6328 1.4375 0 2.875-0.55078 3.9688-1.6484 2.1836-2.1914 2.1758-5.7383-0.015624-7.918-7.582-7.5586-14.043-4.3555-17.176-2.5039z"/>
            </svg>
            <h3>{{ __('No products found') }}</h3>
            <p class="sb-text-lg mt-2">{{ __('There are no products found with your queries!') }}</p>
        </div>
    @endforelse
    <div>
        {{ $products->withQueryString()->links(Theme::getThemeNamespace('partials.pagination')) }}
    </div>
</div>
